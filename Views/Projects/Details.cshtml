@model Portfolio.Models.Project

@{
    ViewData["Title"] = Model.Title;
}

<section class="container animate-fade">
    <div class="project-details-card">
        <a asp-action="Index" class="btn-secondary" style="margin-bottom: 2rem; display: inline-flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; padding: 0.6rem 1.2rem;">
            <i class="fas fa-arrow-left"></i> Back to Projects
        </a>

        <div class="project-header">
            <h1 class="hero-title" style="margin-bottom: 1rem;">@Model.Title</h1>
            <p style="color: var(--text-muted);">Published Date: @Model.CreatedAt.ToShortDateString()</p>
        </div>

        @if (!string.IsNullOrEmpty(Model.ImageUrl))
        {
            <div class="project-detail-image-container">
                <img src="@Model.ImageUrl" alt="@Model.Title" class="project-detail-image" />
            </div>
        }
        else
        {
             <div class="card-img-placeholder" style="height: clamp(200px, 50vw, 400px);">
                @{
                    var title = Model.Title ?? "PJ";
                    var shortTitle = title.Length >= 2 ? title.Substring(0, 2) : title;
                }
                <span class="placeholder-text" style="font-size: clamp(3rem, 10vw, 6rem);">@shortTitle.ToUpper()</span>
            </div>
        }

        @if (!string.IsNullOrEmpty(Model.Description))
        {
            <div class="project-content">
                <h3 class="details-subtitle">Project Description</h3>
                <div class="details-text">
                    @Model.Description
                </div>
            </div>
        }

        @if (!string.IsNullOrEmpty(Model.ProjectLink))
        {
            <div class="project-link-wrapper">
                <a href="@Model.ProjectLink" target="_blank" class="btn-primary" style="padding: 1rem 3rem;">
                    View Project / Source Code
                </a>
            </div>
        }
    </div>
</section>

<style>
    .project-details-card {
        max-width: 900px;
        margin: 0 auto;
        padding: clamp(1.5rem, 5vw, 3.5rem);
        background: var(--glass);
        border: 1px solid var(--glass-border);
        border-radius: clamp(20px, 4vw, 32px);
    }

    .project-header {
        margin-bottom: clamp(2rem, 5vw, 3.5rem);
        text-align: center;
    }

    .project-detail-image-container {
        width: 100%;
        border-radius: clamp(12px, 3vw, 24px);
        overflow: hidden;
        margin-bottom: clamp(2rem, 5vw, 3.5rem);
        box-shadow: var(--card-shadow);
        border: 1px solid var(--glass-border);
    }

    .project-detail-image {
        width: 100%;
        height: auto;
        display: block;
    }

    .details-subtitle {
        margin-bottom: 1.5rem;
        background: none;
        -webkit-text-fill-color: var(--text-main);
        font-size: 1.5rem;
    }

    .details-text {
        font-size: clamp(1rem, 3vw, 1.15rem);
        line-height: 1.8;
        color: var(--text-main);
        white-space: pre-line;
        margin-bottom: clamp(2rem, 5vw, 3.5rem);
    }

    .project-link-wrapper {
        text-align: center;
        border-top: 1px solid var(--glass-border);
        padding-top: clamp(2rem, 5vw, 3.5rem);
    }
</style>
